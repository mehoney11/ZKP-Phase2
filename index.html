<!DOCTYPE html>
<html>
<head>
	<title>QR Code Transaction Demo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="step1">
		<h2>Step 1: Consumer generates QR code</h2>
		<button onclick="generateQR()">Generate QR Code</button>
		<div id="qr-container"></div>
	</div>
	<div id="step2" style="display:none;">
		<h2>Step 2: Seller scans QR code</h2>
		<p>Scan the QR code generated by the consumer:</p>
		<video id="qr-video"></video>
		<button onclick="stopScanning()">Stop Scanning</button>
		<p id="qr-text"></p>
	</div>
	<div id="step3" style="display:none;">
		<h2>Step 3: Seller swaps positions and generates new QR code</h2>
		<p>Swap two random positions of each string and click the button to generate a new QR code:</p>
		<button onclick="swapPositions()">Swap Positions</button>
		<div id="qr-container2"></div>
		<p>Hash of swapped indices:</p>
		<input type="text" id="hash" readonly>
	</div>
	<div id="step4" style="display:none;">
		<h2>Step 4: Consumer scans new QR code</h2>
		<p>Scan the new QR code generated by the seller:</p>
		<video id="qr-video2"></video>
		<button onclick="stopScanning2()">Stop Scanning</button>
		<p id="qr-text2"></p>
		<p>Hash of observed swapped indices:</p>
		<input type="text" id="hash2" readonly>
		<button onclick="checkHash()">Check Hash</button>
	</div>
	
	<script src="script.js"></script>
</body>
</html>
